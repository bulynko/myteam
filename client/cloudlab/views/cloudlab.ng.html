
<md-content class="md-padding">

<div layout="column"  style="padding=20px; color: gray;" >
    <md-button  class="md-raised md-primary"   href="/teamview" > Home </md-button>
 

 <md-tabs md-dynamic-height md-border-bottom md-stretch-tabs="always"  md-selected="selectedIndex" >

    <md-tab  ng-if="(  currentUser.emails[0].address == 'cloudadmin@gbmme.com' )">
        <md-tab-label > Admin
             <md-icon md-svg-src="img/cloud-print-outline.svg"></md-icon>
      </md-tab-label>
    <md-tab-body> 

 
       <h1> Admin</h1>  
        <md-button  class="md-raised md-primary"   href="/teamadmin" > Admin Tools </md-button>

 
   </md-tab-body> 
   </md-tab>
    <!--XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX   -->
    
    

    <!--XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX   -->
    <md-tab  >
      <md-tab-label> Work
             <md-icon md-svg-src="img/cloud-download.svg"></md-icon>
        </md-tab-label>
      <md-tab-body>

 <md-input-container  layout="flex"  >     
  <md-radio-group ng-model="projectMgmt" layout="raw" >
      <div  class="myteam-color"   ng-repeat="projectActions in ['TASKS','4team','4me']"   layout="column"  >
      <md-radio-button  ng-value="projectActions"  layout="row" >      
          {{ projectActions }}   
      </md-radio-button >      
      </div>
 </md-radio-group>    
   
 </md-input-container>    
   
   <md-divider ng-if="!$last"></md-divider>
   
     <div layout="column"    ng-hide= "(  projectMgmt != 'TASKS' ) ">   

        
     <form>
     <md-whiteframe class="md-whiteframe-z3" layout   layout-align="center center" 
        style="margin: 5px ; padding: 5px;">  
     
     <div layout="column"  style="width:95%"> 
     <md-input-container  style="padding: 10px;margin: 10px">
       <label>New Task</label>
       <input ng-model="req.msg" type="text" ng-minlength="5" required>
     </md-input-container>

         
      <md-radio-group ng-model="req.msgTarget" layout="column" >
      <div  class="myteam-color"  ng-repeat="msgTarget in ['PUBLIC','PRIVATE','MEMBERS']"  >
      <md-radio-button  ng-value="msgTarget"   layout="row"  >      
          {{ msgTarget }}   
      </md-radio-button >      
       </div>
     </md-radio-group>    

 
      <md-button class="md-raised md-primary"  ng-click="createRequest(req,currentUser)" 
       align="center"> Create New Task </md-button>
      
      </div>  
     
      </md-whiteframe>   
     </form>  


        
   <center> <h3 class="myteam-color"> OPEN TASK LIST </h3></center>

   <md-whiteframe ng-repeat="t in tasks" class="md-whiteframe-z3" layout 
   layout-align="center center"  style="margin: 5px ; padding: 3px;">  
   
     <div> 
      <h4>  {{ t.message }} id: {{ t.owner }}   </h4>
     [ {{ t.msgtarget }} ]   {{ t.msgtime }}
            
      <md-radio-group ng-model="t.msgtarget"   layout="row" >
      <div   ng-repeat="msgTarget in ['PUBLIC','PRIVATE','MEMBERS']"    layout="row" >
      <md-radio-button  ng-value="msgTarget"  >      
      </md-radio-button >      
       </div>
     </md-radio-group>     
 
     </div>   
      
     <span flex></span>  
     <div  align="right"  >
       <md-button class="md-raised md-primary"  ng-click="removeRequest(t._id) " >X</md-button>   
      </div> 
        
    </md-whiteframe>          
       
     </div>  
     
     
     <div layout="column"    ng-hide= "(  projectMgmt != '4team' ) ">     
        <h1 class="myteam-color"> Team tasks .... </h1>

    <md-whiteframe ng-repeat="t in tasksMember" class="md-whiteframe-z3" layout 
   layout-align="center center"  style="margin: 5px ; padding: 3px;">  
     <div> 
      <h4>  {{ t.message }} id: {{ t.owner }}   </h4>
     [ {{ t.msgtarget }} ]   {{ t.msgtime }}
     </div>        
     <span flex></span>  
     
    </md-whiteframe>   
   
   

     </div>          

     <div layout="column"    ng-hide= "(  projectMgmt != '4me' ) ">     
        <h1 class="myteam-color"> My work tasks.... </h1>
     <md-whiteframe ng-repeat="t in tasksMy" class="md-whiteframe-z3" layout 
      layout-align="center center"  style="margin: 5px ; padding: 3px;">  
     <div> 
      <h4>  {{ t.message }} id: {{ t.owner }}   </h4>
     [ {{ t.msgtarget }} ]   {{ t.msgtime }}
     </div>        
     <span flex></span>  
     
    </md-whiteframe>     
        
     </div>      
           
    </md-tab-body> 
    </md-tab>    
    <!--XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX   -->    
    
    <md-tab   >
        <md-tab-label > Options
             <md-icon md-svg-src="img/cloud-print-outline.svg"></md-icon>
      </md-tab-label>
    <md-tab-body> 

     logged-In: {{ currentUser | displayName}}
      
 
     <md-input-container  style="padding: 10px">
      <label>Password</label>
      <input ng-model="meuser.password" type="password">
    </md-input-container>

    <md-input-container  style="padding: 10px">
      <label>Password verification</label>
      <input ng-model="meuser.password2" type="password">
    </md-input-container>
    
    
      <md-button class="md-raised md-primary"  ng-click="changePassword(currentUser._id,meuser)" 
       align="center"> Change my password </md-button> 

   <font color="red">{{ passwordErrorMessage }} </font>
    
   </md-tab-body> 
   </md-tab>
    
 </md-tabs>


 </div>    
 </md-content >
 
 


 
 
